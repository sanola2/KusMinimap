<div class="container" style="margin-top: 60px">

  <html>
    <head>
    	<meta charset="utf-8" />
    	<title>googlemap v3 </title>
    	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
    	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDopDszU-NiJ6wSqICL5q1SaY55wRc1gU8&v=3.exp&sensor=false"></script>
    </head>
    <SCRIPT LANGUAGE="JavaScript">
    <!--
    var contentArray = [];
    var iConArray = [];
    var markers = [];
    var iterator = 0;
    var markerArray = [];
    var map;
    var numMaker = 0;
    <% @every_post.each do |row| %>
      markerArray[numMaker] = new google.maps.LatLng(<%= row.xxx %>,<%= row.yyy %>);
      contentArray[numMaker] = '<div>' +
        			'<h4><%= row.title %></h4>'+
        			'<a href="/home/info/<%= row.id %>" target="_blank">상세 페이지로</a>'
        			'</div>';

      numMaker = numMaker + 1;
    <% end %>

     iConArray[0] = "http://maps.google.com/mapfiles/ms/micons/yellow-dot.png";
     iConArray[1] = "http://maps.google.com/mapfiles/ms/micons/yellow-dot.png";
     iConArray[2] = "http://maps.google.com/mapfiles/ms/micons/yellow-dot.png";

    function initialize() {
    	var mapOptions = {
    		zoom: 17,
    		mapTypeId: google.maps.MapTypeId.ROADMAP,
    		center: new google.maps.LatLng(36.6107518,127.2864438)
    	};

    	map = new google.maps.Map(document.getElementById('map'),mapOptions);

    	for (var i = 0; i < markerArray.length; i++) {
    		addMarker();
    	}
    }


    // 마커 추가
    function addMarker() {

    	var marker = new google.maps.Marker({
    		position: markerArray[iterator],
    		map: map,
    		draggable: false,
    		icon: iConArray[iterator]
    	});
    	markers.push(marker);

    	var infowindow = new google.maps.InfoWindow({
          content: contentArray[iterator]
    	});

    	google.maps.event.addListener(marker, 'click', function() {
    		infowindow.open(map,marker);
    	});
    	iterator++;
    }

    google.maps.event.addDomListener(window, 'load', initialize);
    //-->
    </SCRIPT>
    <body>
    <div style="text-align:center;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- source.uhoon.co.kr -->
    <ins class="adsbygoogle"
         style="display:inline-block;width:468px;height:60px"
         data-ad-client="ca-pub-4169082997566429"
         data-ad-slot="5725636632"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    </div>
    <div id="map" style="width:100%;height:800px;"></div>
    </body>
  </html>
  <div style="margin-top: 40px; float: right" >
      <form action="upload_view" method="POST">
        <button type="submit" class="btn btn-primary">등록</button>
      </form>
  </div>
</div>

<div class="container" style="margin-top: 90px">
  <% @every_post.each do |row| %>
       <%= row.title %>
       <hr>
  <% end %>
<%= @temp %>

</div>
